(this.webpackJsonpsavakhed=this.webpackJsonpsavakhed||[]).push([[0],{34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(4),i=a.n(n),c=a(28),r=a.n(c),o=(a(34),a(11)),l=a(12),h=a(14),u=a(13),d=a(27),b=(a(35),a(26)),j=(a(36),function(e){var t=e.isToggled,a=e.onToggle,n=e.label;return Object(s.jsxs)("div",{className:"switch-container",children:[Object(s.jsxs)("label",{className:"switch",children:[Object(s.jsx)("input",{type:"checkbox",checked:t,onChange:a}),Object(s.jsx)("span",{className:"slider"})]}),Object(s.jsx)("span",{className:"tag",children:n})]})}),k=(a(37),function(e){var t=e.onInput,a=e.onSearch,i=Object(n.useState)(!1),c=Object(b.a)(i,2),r=c[0],o=c[1],l=Object(n.useState)("\u090f\u0915\u091f\u093e \u091c\u0940\u0935 \u0938\u0926\u093e\u0936\u093f\u0935"),h=Object(b.a)(l,2),u=h[0],d=h[1];return Object(s.jsxs)("form",{className:"form",children:[Object(s.jsxs)("section",{children:[Object(s.jsx)("input",{className:"search-bar",type:"text",placeholder:"Search by Book name / Author name",onInput:t}),Object(s.jsx)("button",{className:"search-button",type:"submit",onClick:a,children:"Search"})]}),Object(s.jsx)(j,{className:"toggle-button",isToggled:r,onToggle:function(){o(!r),setTimeout((function(){d(r?"\u090f\u0915\u091f\u093e \u091c\u0940\u0935 \u0938\u0926\u093e\u0936\u093f\u0935":"\u0905\u0921\u0932\u093e \u0939\u0930\u0940 \u0911\u091f\u094b\u0938\u091c\u0947\u0937\u094d\u091f\u091a\u0947 \u092a\u093e\u092f \u0927\u0930\u0940")}),200)},label:u})]})}),m=(a(38),function(e){var t=e.tableHeaders,a=void 0===t?[]:t,n=e.tableElements,i=void 0===n?[]:n,c=e.searched,r=e.setCurrentDetails;return Object(s.jsx)("div",{className:"table-super",children:i.length&&c?Object(s.jsxs)("table",{children:[Object(s.jsx)("thead",{children:Object(s.jsx)("tr",{children:a.map((function(e,t){return Object(s.jsx)("th",{children:e},t)}))})}),Object(s.jsx)("tbody",{children:i.map((function(e,t){return Object(s.jsxs)("tr",{onClick:function(){return r(e)},children:[Object(s.jsx)("td",{children:e.dakhalId}),Object(s.jsx)("td",{children:e.vibhagId}),Object(s.jsx)("td",{children:Object(s.jsx)("a",{href:"#/details/".concat(e.id),children:e.pustakName.join(" ")})}),Object(s.jsx)("td",{children:e.lekhak.join(" ")})]},t)}))})]}):Object(s.jsx)("div",{children:"No results found"})})}),v=a(19);a(49),a(40);v.a.initializeApp({apiKey:"AIzaSyCzHYtN3HUc7uNhG15YD3hrnyiX_poQUrM",authDomain:"devsavakhed.firebaseapp.com",projectId:"devsavakhed",storageBucket:"devsavakhed.appspot.com",messagingSenderId:"774083254382",appId:"1:774083254382:web:b184cb1b0851be9474ae7f",measurementId:"G-RCY6EWCX6V"});v.a.auth();var g=v.a.firestore(),p=(v.a,["\u0905","\u0906","\u0907","\u0908","\u0909","\u090a","\u090f","\u0910","\u0913","\u0914","\u0905\u0902","\u0905\u0903","\u0915","\u0916","\u0917","\u0918","\u0919","\u091a","\u091b","\u091c","\u091d","\u091e","\u091f","\u0920","\u0921","\u0922","\u0923","\u0924","\u0925","\u0926","\u0927","\u0928","\u092a","\u092b","\u092c","\u092d","\u092e","\u092f","\u0930","\u0932","\u0935","\u0936","\u0937","\u0938","\u0939","\u0933","\u0915\u094d\u0937","\u091c\u094d\u091e","\u0924\u094d\u0930"]),O=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).search=function(e,t){g.collection("bookList").where(e,"array-contains-any",t).get().then((function(e){e.forEach((function(e){var t=e.data();s.setState({results:s.state.results.concat([Object(d.a)(Object(d.a)({},t),{},{id:e.id})])}),s.getMulakshara(t.lekhak),s.getMulakshara(t.pustakName)})),s.setState({tableHeaders:["Dakhal-ID","Vibhag-ID","Book","Author"]})})).catch((function(e){return console.error(e)}))},s.getMulakshara=function(e){var t=[];e.forEach((function(e){var a=[];e.split("").forEach((function(e){p.includes(e)&&a.push(e)})),t.push(a)})),console.log(t)},s.fetchResults=function(e){if(e.preventDefault(),document.querySelector(".container").style.placeItems="center",s.state.input.length>0){document.querySelector(".container").style.placeItems="flex-start center",s.setState({tableHeaders:[],results:[],searched:!0});var t=s.state.input.toLowerCase().split(" ");if(t.sort((function(e,t){return-(e.length>t.length)||+(e.length<t.length)})),t.length>10){var a=t.length;t.splice(9,a-10)}s.search("pustakName",t),s.search("lekhak",t)}else s.setState({tableHeaders:[],results:[],searched:!1})},s.logger=function(e,t){console.log(t,e)},s.state={searched:!1,input:"",tableHeaders:[],results:[]},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"logo",children:["\u0938\u093e\u0930\u094d\u0935\u091c\u0928\u093f\u0915 \u0935\u093e\u091a\u0928\u093e\u0932\u092f ",Object(s.jsx)("br",{})," \u0930\u093e\u091c\u0917\u0941\u0930\u0942\u0928\u0917\u0930"]}),Object(s.jsx)(k,{onInput:function(t){return e.setState({input:t.target.value.toLowerCase()})},onSearch:function(t){return e.fetchResults(t)}}),Object(s.jsx)(m,{setCurrentDetails:this.props.setCurrentDetails,tableHeaders:this.state.tableHeaders,tableElements:this.state.results,searched:this.state.searched})]})})}}]),a}(n.Component),y=a(17),x=a.n(y),f=a(20);a(43),a(44);var N=function(e){return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"heading",children:e.bookName}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"description",children:e.children})]})},D=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={gotGoogleData:!1,GresultScore:0,GarticleBody:"",Gname:"",Gdescription:"",gotFirebaseData:!1,jsonData:[],bookDetail:{}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.bookDetail;(void 0===e?{}:e).pustakName||this.getFirebaseData(),this.getGoogleData()}},{key:"getIdFromUrl",value:function(){var e=window.location.href.split("/");return e[e.length-1]}},{key:"getGoogleData",value:function(){var e=this,t=new XMLHttpRequest,a=this.props.bookDetail.pustakNameEnglish;t.addEventListener("load",(function(){e.setState({jsonData:JSON.parse(t.responseText)});var a=e.state.jsonData.itemListElement,s=(void 0===a?[]:a)[0],n=s.result,i=void 0===n?{}:n,c=s.resultScore,r=void 0===c?{}:c,o=i.detailedDescription,l=void 0===o?"":o,h=i.name,u=void 0===h?{}:h,d=i.description,b=void 0===d?"":d,j=l.articleBody,k=void 0===j?"":j;e.setState({gotGoogleData:!0,GresultScore:r,GarticleBody:k,Gname:u,Gdescription:b})})),t.open("GET","https://kgsearch.googleapis.com/v1/entities:search?query="+a+"&key=AIzaSyAY9Boy7kdeOmi7JYAfI2zR8Ij3iF_zgxM&limit=1&indent=True"),t.send()}},{key:"getFirebaseData",value:function(){var e=Object(f.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.collection("bookList").doc(this.getIdFromUrl()).get();case 2:t=e.sent,a=t.data(),this.setState({bookDetail:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nameArrayToString",value:function(e){for(var t="",a=0;a<e.length;a++)0!==a&&(t+=" ");return t}},{key:"render",value:function(){var e=this.state.bookDetail,t=this.props.bookDetail,a=t.pustakName?t:e;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"details_back",children:[Object(s.jsx)("a",{href:"#/search",children:Object(s.jsx)("button",{className:"back_btn",children:"Go Back"})}),Object(s.jsx)("hr",{className:"hr"})]}),a.pustakName&&Object(s.jsx)("div",{className:"flex-container",children:Object(s.jsx)(N,{bookName:"Book Details",children:Object(s.jsxs)("div",{className:"cardDetails",children:[Object(s.jsx)("div",{className:"details_image",children:Object(s.jsx)("img",{src:"https://m.media-amazon.com/images/I/51Z0nLAfLmL.jpg",alt:"Book Cover",className:"book_image"})}),Object(s.jsxs)("div",{className:"book_details",children:[Object(s.jsx)("hr",{className:"hr-inLabel"}),Object(s.jsxs)("div",{className:"rows",children:[Object(s.jsx)("span",{className:"label",children:"dakhalId"}),Object(s.jsxs)("span",{className:"book_name",children:[a.dakhalId," "]})]}),Object(s.jsx)("hr",{className:"hr-inLabel"}),Object(s.jsxs)("div",{className:"rows",children:[Object(s.jsx)("span",{className:"label",children:"vibhagId"}),Object(s.jsx)("span",{className:"book_name",children:a.vibhagId})]}),Object(s.jsx)("hr",{className:"hr-inLabel"}),Object(s.jsxs)("div",{className:"rows",children:[Object(s.jsx)("span",{className:"label",children:"pustakName"}),Object(s.jsx)("span",{className:"book_name",children:a.pustakName.join(" ")})]}),Object(s.jsx)("hr",{className:"hr-inLabel"}),Object(s.jsxs)("div",{className:"rows",children:[Object(s.jsx)("span",{className:"label",children:"lekhak"}),Object(s.jsx)("span",{className:"book_name",children:a.lekhak.join(" ")})]}),Object(s.jsx)("hr",{className:"hr-inLabel"}),Object(s.jsxs)("div",{className:"rows",children:[Object(s.jsx)("span",{className:"label",children:"pustakPrakar"}),Object(s.jsx)("span",{className:"book_name",children:a.pustakPrakar})]}),Object(s.jsx)("hr",{className:"hr-inLabel"}),Object(s.jsx)("br",{})]})]})})}),this.state.GresultScore>140&&""!==this.state.GarticleBody&&Object(s.jsx)(N,{bookName:this.state.Gname,children:Object(s.jsxs)("div",{className:"googleDetails",children:[Object(s.jsxs)("div",{className:"eachgoogleDetails",children:["Result Score : ",Object(s.jsx)("div",{className:"googleResult",children:this.state.GresultScore})]}),""!=this.state.GarticleBody&&Object(s.jsxs)("div",{className:"eachgoogleDetails",children:["Article Body : ",Object(s.jsx)("div",{className:"googleResult",children:this.state.GarticleBody})]}),""!=this.state.Gdescription&&Object(s.jsxs)("div",{className:"eachgoogleDetails",children:["Description : ",Object(s.jsx)("div",{className:"googleResult",children:this.state.Gdescription})]}),Object(s.jsx)("div",{className:"source",children:"source : Google "})]})})]})}}]),a}(n.Component),S=a(18),w=(a(45),a(53)),L=a(51),I=a(52),C=a(10),A=a.n(C),G=[{key:"A",value:"a"},{key:"B",value:"b"},{key:"C",value:"c"},{key:"D",value:"d"},{key:"E",value:"e"},{key:"F",value:"f"},{key:"G",value:"g"},{key:"H",value:"h"},{key:"I",value:"i"},{key:"J",value:"j"},{key:"K",value:"k"},{key:"L",value:"l"},{key:"M",value:"m"},{key:"O",value:"o"},{key:"P",value:"p"},{key:"Q",value:"q"},{key:"R",value:"r"},{key:"S",value:"s"},{key:"T",value:"t"},{key:"U",value:"u"},{key:"V",value:"v"},{key:"W",value:"w"},{key:"X",value:"x"},{key:"Y",value:"y"},{key:"Z",value:"z"}],T=[{key:"\u0915"},{key:"\u0916"},{key:"\u0917"},{key:"\u0918"},{key:"\u0919"},{key:"\u091a"},{key:"\u091b"},{key:"\u091c"},{key:"\u091d"},{key:"\u091e"},{key:"\u091f"},{key:"\u0920"},{key:"\u0921"},{key:"\u0922"},{key:"\u0923"},{key:"\u0924"},{key:"\u0925"},{key:"\u0926"},{key:"\u0927"},{key:"\u0928"},{key:"\u092a"},{key:"\u092b"},{key:"\u092c"},{key:"\u092d"},{key:"\u092e"},{key:"\u092f"},{key:"\u0930"},{key:"\u0932"},{key:"\u0935"},{key:"\u0936"},{key:"\u0937"},{key:"\u0938"},{key:"\u0939"}],B=[{id:"1","vibhag id":"11",bookName:"The Alchemist",author:"Paulo Coelho"},{id:"2","vibhag id":"22",bookName:"Yoga",author:"Swami Vivekananda"},{id:"3","vibhag id":"33",bookName:"Lorem Ipsum is simply dummy text",author:"Lorem Ipsum"},{id:"4","vibhag id":"44",bookName:"The Alchemist",author:"Paulo Coelho"},{id:"5","vibhag id":"55",bookName:"Yoga",author:"Swami Vivekananda"},{id:"6","vibhag id":"66",bookName:"Lorem Ipsum is simply dummy text",author:"Lorem Ipsum"},{id:"7","vibhag id":"77",bookName:"The Alchemist",author:"Paulo Coelho"},{id:"8","vibhag id":"88",bookName:"Yoga",author:"Swami Vivekananda"},{id:"9","vibhag id":"99",bookName:"Lorem Ipsum is simply dummy text",author:"Lorem Ipsum"},{id:"1","vibhag id":"11",bookName:"Wings of Fire",author:"APJ"},{id:"2","vibhag id":"22",bookName:"Yoga",author:"Swami Vivekananda"},{id:"3","vibhag id":"33",bookName:"Lorem Ipsum is simply dummy text",author:"Lorem Ipsum"},{id:"4","vibhag id":"44",bookName:"The Alchemist",author:"Paulo Coelho"}],F=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).renderAuthors=function(){return n.state.lekhakArray.map((function(e){return Object(s.jsx)("div",{className:"renderAuthors",children:Object(s.jsx)(N,{bookName:e})})}))},n.renderAlphabets=function(){return G.map((function(e){return Object(s.jsx)("button",{value:e.value,onClick:n.getLekhakNames(n.value),children:e.key})}))},n.renderAkshars=function(){return T.map((function(e){return Object(s.jsx)("button",{value:e.key,onClick:n.getLekhakNames(n.value),children:e.key})}))},n.state={character:"a",newItem:B,authorList:B,tableHeaders:["id","vibhag id","bookName","author"],matching_authors:[],activeTab:"1",lekhakArray:[]},n.handleChange=n.handleChange.bind(Object(S.a)(n)),n.toggle=n.toggle.bind(Object(S.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getFirebaseLekhaks()}},{key:"getLekhakNames",value:function(e){var t=e;console.log(t)}},{key:"getFirebaseLekhaks",value:function(){var e=Object(f.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Firebase Query."),e.next=3,g.collection("lekhakMapping").doc("a").get();case 3:t=e.sent,a=t.data().names,this.setState({lekhakArray:a}),console.log(a);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({character:e.target.value});var a=this.state.newItem.filter((function(e){return e.author.toLowerCase().includes(t.toLowerCase())?e:null}));this.setState({authorList:a})}},{key:"render",value:function(){var e=this;this.state.character;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"toggleBtn",children:[Object(s.jsx)(w.a,{className:A()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")},children:Object(s.jsx)("button",{className:"marBtn",children:"Marathi"})}),Object(s.jsx)(w.a,{className:A()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")},children:Object(s.jsx)("button",{className:"engBtn",children:"English"})})]}),Object(s.jsxs)(L.a,{activeTab:this.state.activeTab,children:[Object(s.jsx)(I.a,{tabId:"1",children:1==this.state.activeTab?Object(s.jsx)("div",{className:"ButtonContainer",children:this.renderAkshars()}):null}),Object(s.jsx)(I.a,{tabId:"2",children:2==this.state.activeTab?Object(s.jsx)("div",{className:"ButtonContainer",children:this.renderAlphabets()}):null})]})]}),Object(s.jsx)("div",{children:this.renderAuthors()})]})}}]),a}(n.Component),E=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).setPath=function(){var t=window.location.href.split("#");t.length>1&&(t[1].includes("details")?e.setState({show:"details"}):t[1].includes("lekhakList")?e.setState({show:"lekhakList"}):e.setState({show:"listing"}))},e.state={show:"listing",currentDetails:{}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("hashchange",(function(){console.log("The hash has changed!"),e.setPath()}),!1),this.setPath()}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"App",children:["details"===this.state.show&&Object(s.jsx)(D,{bookDetail:this.state.currentDetails}),"lekhakList"===this.state.show&&Object(s.jsx)(F,{}),"listing"===this.state.show&&Object(s.jsx)(O,{setCurrentDetails:function(t){return e.setState({currentDetails:t})}})]})}}]),a}(n.Component),M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,54)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),i(e),c(e)}))};r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(E,{})}),document.getElementById("root")),M()}},[[48,1,2]]]);
//# sourceMappingURL=main.43fbd8be.chunk.js.map